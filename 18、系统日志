系统日志一般被设计为只有 root 权限才能查看

系统日志 主要存储在如下几个地方

/var/log/boot.log
本次开机过程中，内核检测与启动硬件、启动内核相关程序 的日志

/var/log/cron
crontab 的日志

/var/log/dmesg
开机硬件检测信息

/var/log/lastlog
系统中，各种用户最后一次登录系统的 设备 IP 时间

/var/log/maillog 或 /var/log/mail/*
邮件往来信息，主要记录 postfix（SMTP 服务） 和 dovecot（POP3 服务） 产生的信息

/var/log/messages
系统错误信息

/var/log/secure
只要涉及到“输入密码”这项操作，就会被记录到这个日志里面

/var/log/wtmp /var/log/failog
记录 成功/失败 登录系统的账号信息

/var/log/httpd/* /var/log/samba/*
httpd 与 samba 网络服务的日志



与日志相关的服务和命令

systemd-journald.service 由 systemd 提供的，系统级别的日志记录服务
rsyslog.service 与 登录 和 网络服务 相关的信息
logrotate 日志轮替工具

以及部分程序会自定义自身的日志记录方法



一条日志，一般包含以下内容

<1> 事件发生的日期与时间
<2> 发生事件的主机名
<3> 启动该事件的 服务名/指令/函数
<4> 实际记录的信息



rsyslog.service 的 配置文件 /etc/rsyslog.conf

以 mail 行为例

mail.*		-/var/log/maillog

<服务名称>.[=!]<日志等级> <记录日志的文件路径/设备名/主机名>


1、服务名称（facility）

kernel 中 syslog 函数内置的几类 facility

auth		安全/认证信息
authpriv	安全/认证信息（私有内容）
cron		计划任务类的信息
daemon		系统服务类的信息
ftp			与 FTP 相关的信息
kern		内核信息（不可从用户进程中产生）
local0 至 local7		预留给本机使用的 facility 类别
lpr			打印机相关的信息
mail		邮件相关的信息
news		与网络新闻相关的信息
syslog		由 syslogd 内部产生的信息
user		【默认】通用用户信息
uucp		Unix to Unix Copy Protocol 早期的 Unit 系统间程序信息交换

如果不同的程序要使用 syslog 函数来记录日志，就会将自己定义为上述某个 facility


