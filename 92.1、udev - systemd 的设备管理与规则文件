名称

udev 动态设备管理



描述

udev 为系统软件提供了设备事件、设备节点权限控制、在 /dev 目录下创建额外的软链接、或者重命名网络界面的功能
内核一般仅通过发现顺序提供一系列不可读的设备名
有意义的软链接或网络设备名提供了一种可靠地通过设备属性和当前配置甄别设备的能力

当硬件发生 增加/移除/改变状态 时，udev 的守护进程—— systemd-udevd.service(8)，可以直接从内核中获取设备的 uevent
当 udev 获取一个设备事件，它会将设备属性和已经配置好的规则集进行匹配，来分辨出设备
被匹配上的规则会提供设备附加的信息，而这些信息将存放在 udev 的数据库中，或被用于创建有意义的软链接名

所有 udev 处理的设备的信息都存放在 udev 的数据库中，并会被发给可能的事件订阅者
可以通过 libudev 库，获取全部的存储数据库和事件源



规则文件

udev 规则将从以下几个目录中读取
系统级别规则目录 /usr/lib/udev/rules.d
动态的运行时目录 /run/udev/rules.d
本地管理员目录   /etc/udev/rules.d
所有规则文件都集中排序，并按照字符顺序处理，而无视它们存放的目录
但是具有相同文件名的文件将替换其他文件：
/etc 下的文件具有最高的优先级，其次是 /run 下的，最后是 /usr/lib 下的
这可用于覆盖系统提供的规则
一个 /etc 下的规则文件，若与 /usr/lib 下的规则文件同名，但指向 /dev/null 的话，会屏蔽 /usr/lib 下同名的规则文件
一个规则文件必须以 .rules 结尾，其他的扩展名将会被忽略
