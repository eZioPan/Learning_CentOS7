网络设置

Linux 默认的网络设备用 eth0 eth1 ... 来表示

CentOS7 有另一套命名规则

称为 Predictable network interface device names

这种命名法主要基于以下四条内容

1、固件/BIOS 所提供的 板载设备索引号
2、固件提供的 PCI-E 热插（hotplug）槽索引号
3、硬件的物理/地理位置
4、界面的 MAC 地址

前两个字符表示 界面的类型
en 以太网（也即有线网络）
sl 串行线路IP协议（Serial Line Internet Protocol）
wl 无线局域网
ww 无线万维网

后面的字符表示总类型
b<数字> 博通（BCMA）总线核心号
ccw<名称> 思科（CCW）总线群组名
o<索引号>[d<设备端口号>] 板载设备索引号
s<插槽号>[f<功能号>][d<设备端口号>] 热插槽索引号
x<MAC> MAC 地址
[P<所在域>]p<总线>s<插槽号>[f<功能号>][d<设备端口号>] PCI 地理地址
[P<所在域>]p<总线>s<插槽号>[f<功能号>][u<USB端口号>][...][c<设置>][i<界面>] USB端口号链

eg.
enp5s0 有线网卡，在 PCI 上，总线 5 插槽 0 上的网卡
wlp3s0 无线局域网，在 PCI 上，总线 3 插槽 0 上的网卡



简单设置网络连接

查看当前的网络连接

nmcli connection show [网络配置名]

当使用 nmcli connection show 时，显示当前机器上所有网络配置的状态

使用 nmcli connection show [网络配置名] 时，显示指定的网络配置的信息

返回值有很多，其中比较重要的是：

connection.autoconnect [yes|no] 开机是否自动连接
ipv4.method [auto|manual] 手动还是自动配置网络参数
ipv4.dns [DNS 服务器的 IP 地址] 指定 DNS 服务器地址
ipv4.gateway [网关 IP 地址] 指定 网关 IP 地址


如果要手动设置一个 网络连接，可以这样

eg.

[eP@ePCt ~]$ nmcli connection modify [网络配置名] \
> connection.autoconnect yes \
> ipv4.method manual \
> ipv4.addresses 192.168.1.101/24 \
> ipv4.gateway 192.168.1.1 \
> ipv4.dns 192.168.1.1

接着我们可以开启这个网络

[eP@ePCt ~]$ nmcli connection up [网络配置名]


如果路由具有 DHCP 功能，则可以如下简单设置 网络连接

[eP@ePCt ~]$ nmcli connection modify [网络配置名] \
> connection.autoconnect yes \
> ipv4.method auto

接着开启这个网络即可

[eP@ePCt ~]$ nmcli connection up [网路配置名]
