主流 Linux 的发行版本使用的 Boot Loader 大多为 grub2

CentOS7 的开机流程概述
1. 加载 BIOS 中对于硬件的设置，并进行自我检测，接着获取第一个可开机的设备
2. 读取并执行第一个开机装置内的 boot loader（也就是 grub2 ）
3. 依据 boot loader 中的设置加载指定的 kernel 文件，kernel 开始检测硬件，并载入对应的驱动
4. 硬件驱动加载结束之后，kernel 会调用 systemd 程序，并以 default.target 定义的流程启动其他的程序
	<1> systemd 执行 sysinit.target 初始化系统，以及 basic.target 准备操作系统
	<2> systemd 执行 multi-user.target 下的本机服务和服务器服务
	<3> systemd 执行 multi-user.target 下的 /etc/rc.d/rc.local 文件
	<4> systemd 执行 multi-user.target 下的 getty.target 以及用户登录服务
	<5> systemd 执行 graphical.target 下的其他服务



BIOS,POST,MBR/GPT

开机第一步，载入 BIOS 并将 BIOS CMOS 中的硬件设置载入系统
硬件设置包含 各种硬件的工作频率、开机设备、磁盘大小和类型
					 系统时间、总线、PnP 设备、设备 IO 地址
					 CPU 的 硬件中断 指令
					 等等

接着进行 开机自我检测（POST,Power-On Self Test）
以及设置 可开机装置

通过 INT 13 中断 从可开机设备中读取 MBR 中的 Boot Loader


Boot Loader 的功能

<1> 提供启动选项，也即多重开机功能的界面
<2> 载入某系统对应的 loader，转交开机工作
<3> 也可直接载入 系统内核 来启动系统


！注： MBR 存在于硬盘的第一个扇区
	  系统的 loader 存在于系统分区的第一个扇区
	  系统的 kernel 可以存在在系统分区的任何一个扇区


kernel 的读取和系统启动

当 kernel 被载入之后，会接过 BIOS 的管理，并重新检测所有的硬件
在 Linux 中，kernel 文件一般为 /boot/vmlinuz*

eg.
[eP@ePCt ~]$ ls -F /boot

#返回

config-3.10.0-327.el7.x86_64							<= 该版本内核编译时启用的功能和模块的设置文件
grub/													<= 【已废弃】grub1 使用的文件夹
grub2/													<= grub2 使用的文件夹
initramfs-0-rescue-773a4477ef4d409cb280f237ffb5fd5a.img	<= 救援用 虚拟 文件系统 文件
initramfs-3.10.0-327.el7.x86_64.img						<= 正产启动时 使用的 虚拟 文件系统 文件
initramfs-3.10.0-327.el7.x86_64kdump.img				<= 出现问题时 使用的 虚拟 文件系统 文件
initrd-plymouth.img										<= 提供一个开机动画
symvers-3.10.0-327.el7.x86_64.gz						<= 模块编译时的记录文件存档
System.map-3.10.0-327.el7.x86_64						<= 内核变量在内存地址的映射表
vmlinuz-0-rescue-773a4477ef4d409cb280f237ffb5fd5a*		<= 救援时 使用的 内核文件
vmlinuz-3.10.0-327.el7.x86_64*							<= 正常启动时 使用的 内核文件

从 vmlinuz-3.10.0-327.el7.x86_64 中我们可以看到 我们使用的 系统的版本号是  3.10.0-327.el7.x86_64
